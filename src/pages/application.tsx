import Head from "next/head";
import { useState } from "react";
import Header from "@/components/Header";
import styles from '@/styles/Application.module.css';
import Steps from "@/components/Steps";
import Footer from "@/components/Footer";
import { questions } from "../../data/questions";

export default function Application() {
    const [currentStep, setCurrentStep] = useState(0);

    const handleNextStep = () => {
        setCurrentStep(currentStep + 1);
    }

    const handlePrevStep = () => {
        setCurrentStep(currentStep - 1);
    }

    return (
        <>
            <Head>
                <title>haven | application</title>
                <meta name="description" content="Generated by create next app" />
                <meta name="viewport" content="width=device-width, initial-scale=1" />
                <link rel="icon" href="/assets/haven-favi.svg" />
            </Head>

            <main className={styles.main}>
                <div className={styles.header}>
                    <Header />
                </div>
                <div className={styles.stepsContainer}>
                    <Steps currentStep={currentStep} />
                    <div className={styles.formContainer}>
                        <p className={styles.formHeader}>Adoption Application</p>
                        <p className={styles.subHeader}>Start the process to welcoming your new family member.</p>
                        <div className={styles.inputContainer}>
                            {questions[currentStep].map((question, index) => (
                                <div key={index} className={styles.input}>
                                    <label className={styles.prompt}>{question}*</label>
                                    <input className={styles.type} type="text" id={question.toLowerCase().replace(/\s/g, "-")} name={question.toLowerCase().replace(/\s/g, "-")} />
                                </div>
                            ))}
                        </div>
                        <div className={styles.buttonContainer}>
                            {currentStep > 0 && <button onClick={handlePrevStep}>Back</button>}
                            {currentStep < questions.length - 1 && <button onClick={handleNextStep}>Next</button>}
                        </div>
                    </div>
                </div>

                <footer className={styles.footer}>
                    <Footer />
                </footer>
            </main>
        </>
    )
}
